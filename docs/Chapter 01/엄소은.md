## ch.1 HTTP 개관

### 1.1 HTTP : 인터넷의 멀티미디어 배달부

- HTTP 는 신뢰성 있는 데이터 전송 프로토콜을 사용하기 때문에, 데이터가 전송 중 손상되거나 꼬이지 않음을 보장한다.
- 이것은 HTTP가 TCP 위에서 작동하기 때문이다. (HTTP/1.1, HTTP/2) HTTP 통신 중에 데이터 손상이 감지되면, 이는 대부분 TCP 레벨에서 처리되며, 필요한 경우 데이터는 자동으로 재전송된다.

### 1.2 웹 클라이언트와 서버

- 웹서버는 HTTP 프로토콜로 의사소통한다.

### 1.3 리소스

- 리소스에는 정적파일과 동적 컨텐츠 리소스가 있다.
- 동적 컨텐츠 리소스는 사용자가 누구인지, 어떤 정보를 요청했는지에 따라 다른 컨텐츠를 생성한다.

#### 미디어 타입(MIME)

- HTTP 는 웹에서 전송되는 객체 각각에 MIME 타입이라는 데이터 포맷 라벨을 붙인다.
- `Content-type: image/jpeg`

#### URI

- 웹 서버 리소스는 각자 이름을 갖고 있기 때문에, 클라이언트는 관심 있는 리소스를 지목할 수 있다. 서버 리소스 이름은 URI(uniform resouce identifier) 라고 불린다.
- URI 는 두 가지(URL, URN) 가 있다.

#### URL

- URL(Uniform Resource Locator) 는 리소스 식별자의 가장 흔한 형태이다.
- `http://www.oreilly.com/index.html`
- `http://` : 스킴, 리소스에 접근하기 위해 사용되는 프로토콜
- `www.oreilly.com` : 서버의 인터넷 주소
- `index.html` : 웹 서버의 리소스

#### URN

- URN(Uniform Resource Name) 은 컨텐츠를 이루는 한 리소스에 대해 그 리소스의 위치에 영향 받지 않는 유일무이한 이름 역할을 한다.
- `urn:ietf:rfc:2141`
- 거의 사용되지 않는다.

### 1.4 트랜잭션

#### 메서드

- HTTP 메서드는 여러 가지 종류의 요청 명령을 지원한다.
- GET, PUT, DELETE, POST, HEAD

#### 상태 코드

- 상태코드는 클라이언트에게 요청이 성공했는지 아니면 추가 조치가 필요한지를 알려주는 3자리 숫자이다.
- 200, 302, 404

#### 웹페이지는 여러 객체로 이루어질 수 있다

- 웹페이지는 보통 하나의 리소스가 아닌 리소스의 모음이다.

### 1.5 메세지

- HTTP 메세지는 다음의 세 가지 부분으로 이루어진다.
- 시작줄 (`HTTP/1.0 200 OK`)
- 헤더 (`Content-type : text/plain`)
- 본문 (`HI ! I am message`)

### 1.6 TCP 커넥션

#### TCP/IP

- HTTP 는 어플리케이션 계층 프로토콜이다. HTTP 는 네트워크 통신의 세부사항에 신경쓰지 않고, TCP/IP 에게 맡긴다.
- TCP 는 아래 3가지를 제공한다.
  - 오류 없는 데이터 전송
  - 순서에 맞는 전달
  - 조각나지 않는 데이터 스트림

#### 접속, IP 주소, 포트번호

- TCP에서는 서버 컴퓨터에 대한 IP주소와 그 서버에서 실행중인 프로그램이 사용중인 포트번호가 필요하다.
- URL의 호스트 주소는 DNS에 의해 IP주소로 변환될 수 있다.
- URL에 포트번호가 빠진 경우에는 기본값 80 이라고 가정하면 된다.

### 1.7 프로토콜 버전

- HTTP/1.0
- HTTP/1.1
- HTTP/2.0
- HTTP/3.0

### 1.8 웹의 구성요소

- 프락시
  - 클라이언트와 서버 사이에 위치한 HTTP 중재자
  - 주로 보안을 위해 사용한다.
- 캐시
  - 웹캐시와 캐시 프락시는 많이 찾는 웹페이지를 클라이언트 가까이에 보관하는 특별한 종류의 HTTP 프락시 서버이다.
- 게이트웨이
  - 다른 어플리케이션과 연결된 특별한 웹서버
  - 주로 HTTP 트래픽을 다른 프로토콜로 변환하기 위해 사용
  - ex. HTTP/FTP 게이트웨이
- 터널
  - 단순히 HTTP 통신을 전달하기만 하는 특별한 프락시
  - ex. HTTP/SSL 터널
